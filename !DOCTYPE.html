<!DOCTYPE html>  
<html lang="ja">  
<head>  
<meta charset="UTF-8">  
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">  
<title>My Money Flow</title>  
<style>  
    :root {  
        --primary: #004099; /* Olive/SMBC Blue-ish */  
        --accent: #e60012; /* Rakuten Red-ish */  
        --bg: #f2f2f7;  
        --card: #ffffff;  
        --text: #1c1c1e;  
        --subtext: #8e8e93;  
        --green: #34c759;  
    }  
    body {  
        font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", sans-serif;  
        background-color: var(--bg);  
        color: var(--text);  
        margin: 0;  
        padding-bottom: 80px; /* For bottom nav */  
        -webkit-tap-highlight-color: transparent;  
    }  
      
    /* Header */  
    header {  
        background: var(--card);  
        padding: 20px 20px 10px;  
        position: sticky;  
        top: 0;  
        z-index: 100;  
        border-bottom: 1px solid #e5e5ea;  
    }  
    h1 { margin: 0; font-size: 24px; font-weight: 800; }  
    h2 { font-size: 18px; margin: 20px 0 10px; opacity: 0.8; }  
      
    /* Cards */  
    .container { padding: 16px; }  
    .card {  
        background: var(--card);  
        border-radius: 14px;  
        padding: 16px;  
        margin-bottom: 16px;  
        box-shadow: 0 2px 8px rgba(0,0,0,0.04);  
    }  
    .card-title { font-size: 14px; color: var(--subtext); margin-bottom: 8px; font-weight: 600; }  
    .card-value { font-size: 28px; font-weight: 700; }  
    .card-sub { font-size: 12px; color: var(--subtext); margin-top: 4px; }  
  
    /* Flow Timeline */  
    .flow-item {  
        display: flex;  
        align-items: flex-start;  
        margin-bottom: 20px;  
        position: relative;  
    }  
    .flow-item:last-child { margin-bottom: 0; }  
    .flow-date {  
        width: 50px;  
        font-size: 12px;  
        font-weight: bold;  
        color: var(--primary);  
        padding-top: 4px;  
    }  
    .flow-content {  
        flex: 1;  
        background: #fff;  
        border-radius: 10px;  
        padding: 12px;  
        border: 1px solid #e5e5ea;  
    }  
    .flow-title { font-weight: bold; font-size: 14px; margin-bottom: 4px; }  
    .flow-desc { font-size: 12px; color: #555; }  
    .flow-arrow { color: var(--subtext); font-size: 10px; margin-top: 4px; }  
  
    /* Settings Inputs */  
    .input-group { margin-bottom: 16px; }  
    .input-label { display: block; font-size: 13px; color: var(--subtext); margin-bottom: 6px; }  
    input[type="number"], input[type="text"] {  
        width: 100%;  
        padding: 12px;  
        font-size: 16px;  
        border: 1px solid #d1d1d6;  
        border-radius: 8px;  
        box-sizing: border-box;  
        background: #fff;  
    }  
    .btn {  
        background: var(--primary);  
        color: white;  
        border: none;  
        padding: 14px;  
        width: 100%;  
        border-radius: 10px;  
        font-size: 16px;  
        font-weight: bold;  
        cursor: pointer;  
    }  
    .btn-reset { background: var(--subtext); margin-top: 10px; }  
  
    /* Navigation */  
    .nav-bar {  
        position: fixed;  
        bottom: 0;  
        left: 0;  
        width: 100%;  
        background: rgba(255,255,255,0.95);  
        backdrop-filter: blur(10px);  
        border-top: 1px solid #c6c6c8;  
        display: flex;  
        justify-content: space-around;  
        padding-bottom: env(safe-area-inset-bottom);  
    }  
    .nav-item {  
        padding: 10px 0;  
        text-align: center;  
        flex: 1;  
        font-size: 10px;  
        color: #999;  
        cursor: pointer;  
    }  
    .nav-item.active { color: var(--primary); font-weight: bold; }  
    .nav-icon { font-size: 24px; display: block; margin-bottom: 2px; }  
  
    /* Page Visibility */  
    .page { display: none; }  
    .page.active { display: block; }  
  
    /* Bank Badges */  
    .badge {  
        display: inline-block;  
        padding: 2px 6px;  
        border-radius: 4px;  
        font-size: 10px;  
        font-weight: bold;  
        color: white;  
        margin-right: 4px;  
    }  
    .b-olive { background-color: #6b8e23; }  
    .b-sbi { background-color: #004099; }  
    .b-rakuten { background-color: #e60012; }  
    .b-one { background-color: #333; }  
</style>  
</head>  
<body>  
  
<header id="app-header">  
    <h1 id="page-title">ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</h1>  
</header>  
  
<div id="p-home" class="page active container">  
    <div class="card">  
        <div class="card-title">æœˆé–“æƒ³å®šæ‰‹å–ã‚Š</div>  
        <div class="card-value" id="disp-income">Â¥0</div>  
        <div class="card-sub">åŸºæœ¬ç”Ÿæ´»è²»ã‚’é™¤ã„ãŸè‡ªç”±è³‡é‡‘: <span id="disp-free" style="color:var(--primary)">Â¥0</span></div>  
    </div>  
  
    <h2>ğŸ’° ä»Šæœˆã®é…åˆ†çŠ¶æ³</h2>  
    <div class="card" style="display:flex; justify-content:space-between; flex-wrap:wrap;">  
        <div style="width:48%; margin-bottom:10px;">  
            <div class="card-title">æŠ•è³‡ (æ¥½å¤©è¨¼åˆ¸)</div>  
            <div style="font-weight:bold;" id="disp-invest">Â¥30,000</div>  
        </div>  
        <div style="width:48%; margin-bottom:10px;">  
            <div class="card-title">å®¶è³ƒ (æŠ˜åŠ)</div>  
            <div style="font-weight:bold;" id="disp-rent">Â¥80,000</div>  
        </div>  
        <div style="width:48%;">  
            <div class="card-title">é£Ÿè²» (OneBank)</div>  
            <div style="font-weight:bold;" id="disp-food">Â¥15,000</div>  
        </div>  
        <div style="width:48%;">  
            <div class="card-title">è²¯é‡‘ç›®æ¨™</div>  
            <div style="font-weight:bold;" id="disp-save">Â¥40,000</div>  
        </div>  
    </div>  
  
    <h2>ğŸ“Š å¹´é–“ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³</h2>  
    <div class="card">  
        <div style="display:flex; justify-content:space-between; border-bottom:1px solid #eee; padding-bottom:8px; margin-bottom:8px;">  
            <span>å¹´é–“è²¯è“„é¡</span>  
            <span style="font-weight:bold;" id="year-save">Â¥480,000</span>  
        </div>  
        <div style="display:flex; justify-content:space-between; border-bottom:1px solid #eee; padding-bottom:8px; margin-bottom:8px;">  
            <span>å¹´é–“æŠ•è³‡é¡</span>  
            <span style="font-weight:bold;" id="year-invest">Â¥360,000</span>  
        </div>  
        <div class="card-sub">â€»ãƒœãƒ¼ãƒŠã‚¹åˆ†ã‚’å«ã¾ãªã„åŸºç¤å€¤</div>  
    </div>  
</div>  
  
<div id="p-flow" class="page container">  
    <div class="card" style="background:#eaf2ff;">  
        <div class="card-title" style="color:#004099;">ğŸ—“ æ¯æœˆã®è³‡é‡‘ç§»å‹•ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«</div>  
    </div>  
  
    <div class="flow-item">  
        <div class="flow-date">25æ—¥</div>  
        <div class="flow-content">  
            <div class="flow-title">çµ¦ä¸å—å–ãƒ»ä»•åˆ†ã‘</div>  
            <div class="flow-desc">  
                <span class="badge b-olive">Olive</span> å—å–â‘¡: 30,000å††<br>  
                <span class="badge b-sbi">SBI</span> å—å–â‘ : æ®‹é¡å…¨é¡  
            </div>  
            <div class="flow-arrow">ç›®çš„: ç”Ÿæ´»è²»ã¨åŸºç¤è³‡é‡‘ã®åˆ†é›¢</div>  
        </div>  
    </div>  
  
    <div class="flow-item">  
        <div class="flow-date">26æ—¥</div>  
        <div class="flow-content">  
            <div class="flow-title">æŠ•è³‡è³‡é‡‘ç§»å‹•</div>  
            <div class="flow-desc">  
                <span class="badge b-sbi">SBI</span> â†’ <span class="badge b-rakuten">æ¥½å¤©</span><br>  
                é‡‘é¡: <span id="flow-invest">30,000</span>å††  
            </div>  
            <div class="flow-arrow">è‡ªå‹•å…¥é‡‘ãƒ»ãƒãƒãƒ¼ãƒ–ãƒªãƒƒã‚¸åæ˜ </div>  
        </div>  
    </div>  
  
    <div class="flow-item">  
        <div class="flow-date">27æ—¥</div>  
        <div class="flow-content">  
            <div class="flow-title">å®¶è³ƒç¢ºä¿</div>  
            <div class="flow-desc">  
                <span class="badge b-sbi">SBI</span>å†…ã§æŒ¯æ›¿<br>  
                é‡‘é¡: <span id="flow-rent">80,000</span>å††  
            </div>  
            <div class="flow-arrow">å®¶è³ƒç”¨å£åº§ã¸éš”é›¢</div>  
        </div>  
    </div>  
  
    <div class="flow-item">  
        <div class="flow-date">29æ—¥</div>  
        <div class="flow-content">  
            <div class="flow-title">é£Ÿè²»ãƒãƒ£ãƒ¼ã‚¸</div>  
            <div class="flow-desc">  
                <span class="badge b-sbi">SBI</span> â†’ <span class="badge b-one">OneBank</span><br>  
                é‡‘é¡: <span id="flow-food">15,000</span>å††  
            </div>  
            <div class="flow-arrow">é£Ÿè²»å°‚ç”¨å£åº§ã¸</div>  
        </div>  
    </div>  
</div>  
  
<div id="p-settings" class="page container">  
    <div class="card">  
        <div class="card-title">åŸºæœ¬åå…¥è¨­å®š</div>  
        <div class="input-group">  
            <label class="input-label">æ‰‹å–ã‚Šæœˆçµ¦ (å††)</label>  
            <input type="number" id="inp-income" value="205000">  
        </div>  
    </div>  
  
    <div class="card">  
        <div class="card-title">å›ºå®šæ”¯å‡ºãƒ»äºˆç®—è¨­å®š</div>  
        <div class="input-group">  
            <label class="input-label">Oliveå—å–é¡ (ç”Ÿæ´»è²»)</label>  
            <input type="number" id="inp-olive" value="30000">  
        </div>  
        <div class="input-group">  
            <label class="input-label">å®¶è³ƒæŒ¯è¾¼é¡ (æŠ˜åŠ)</label>  
            <input type="number" id="inp-rent" value="80000">  
        </div>  
        <div class="input-group">  
            <label class="input-label">æŠ•è³‡ç©ç«‹é¡</label>  
            <input type="number" id="inp-invest" value="30000">  
        </div>  
        <div class="input-group">  
            <label class="input-label">é£Ÿè²»äºˆç®— (OneBank)</label>  
            <input type="number" id="inp-food" value="15000">  
        </div>  
         <div class="input-group">  
            <label class="input-label">è²¯é‡‘ç›®æ¨™é¡</label>  
            <input type="number" id="inp-save" value="40000">  
        </div>  
    </div>  
  
    <button class="btn" onclick="saveSettings()">è¨­å®šã‚’ä¿å­˜ã—ã¦åæ˜ </button>  
    <button class="btn btn-reset" onclick="resetSettings()">åˆæœŸå€¤ã«æˆ»ã™</button>  
</div>  
  
<nav class="nav-bar">  
    <div class="nav-item active" onclick="switchPage('home')">  
        <span class="nav-icon">ğŸ </span>  
        ãƒ›ãƒ¼ãƒ   
    </div>  
    <div class="nav-item" onclick="switchPage('flow')">  
        <span class="nav-icon">ğŸ”</span>  
        ãƒ•ãƒ­ãƒ¼  
    </div>  
    <div class="nav-item" onclick="switchPage('settings')">  
        <span class="nav-icon">âš™ï¸</span>  
        è¨­å®š  
    </div>  
</nav>  
  
<script>  
    // åˆæœŸãƒ‡ãƒ¼ã‚¿å®šç¾©  
    const defaultData = {  
        income: 205000,  
        olive: 30000,  
        rent: 80000,  
        invest: 30000,  
        food: 15000,  
        save: 40000  
    };  
  
    let currentData = {};  
  
    function init() {  
        const saved = localStorage.getItem('myMoneyData');  
        if (saved) {  
            currentData = JSON.parse(saved);  
        } else {  
            currentData = {...defaultData};  
        }  
        updateUI();  
        updateInputs();  
    }  
  
    function updateUI() {  
        // é‡‘é¡ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ  
        const fmt = (num) => 'Â¥' + Number(num).toLocaleString();  
          
        // ãƒ›ãƒ¼ãƒ ç”»é¢  
        document.getElementById('disp-income').innerText = fmt(currentData.income);  
        document.getElementById('disp-rent').innerText = fmt(currentData.rent);  
        document.getElementById('disp-invest').innerText = fmt(currentData.invest);  
        document.getElementById('disp-food').innerText = fmt(currentData.food);  
        document.getElementById('disp-save').innerText = fmt(currentData.save);  
  
        // å¹´é–“è¨ˆç®—  
        document.getElementById('year-save').innerText = fmt(currentData.save * 12);  
        document.getElementById('year-invest').innerText = fmt(currentData.invest * 12);  
  
        // è‡ªç”±è³‡é‡‘è¨ˆç®— (åå…¥ - (Oliveç”Ÿæ´»è²» + å®¶è³ƒ + æŠ•è³‡ + é£Ÿè²» + è²¯é‡‘))  
        // â€»Oliveç”Ÿæ´»è²»ã¯çµ¦ä¸â‘¡ã¨ã—ã¦æ—¢ã«å¼•ã‹ã‚Œã¦ã„ã‚‹ãŒã€å…¨ä½“ç®¡ç†ã®ãŸã‚ã“ã“ã§ã¯æ”¯å‡ºã¨ã¿ãªã™ã‹ã€  
        // ã‚ã‚‹ã„ã¯SBIã«æ®‹ã‚‹ã€Œäºˆå‚™è²»ã€ã‚’è¨ˆç®—ã™ã‚‹ã‹ã€‚  
        // ã“ã“ã§ã¯ã€Œã™ã¹ã¦å¼•ã„ãŸã‚ã¨ã«æ®‹ã‚‹ç´”ç²‹ãªäºˆå‚™è²»ã€ã‚’è¨ˆç®—ã—ã¾ã™ã€‚  
        const totalFixed =   
            parseInt(currentData.olive) +   
            parseInt(currentData.rent) +   
            parseInt(currentData.invest) +   
            parseInt(currentData.food) +  
            parseInt(currentData.save);  
          
        const free = parseInt(currentData.income) - totalFixed;  
        document.getElementById('disp-free').innerText = fmt(free);  
  
        // ãƒ•ãƒ­ãƒ¼ç”»é¢ã®åæ˜   
        document.getElementById('flow-invest').innerText = Number(currentData.invest).toLocaleString();  
        document.getElementById('flow-rent').innerText = Number(currentData.rent).toLocaleString();  
        document.getElementById('flow-food').innerText = Number(currentData.food).toLocaleString();  
    }  
  
    function updateInputs() {  
        document.getElementById('inp-income').value = currentData.income;  
        document.getElementById('inp-olive').value = currentData.olive;  
        document.getElementById('inp-rent').value = currentData.rent;  
        document.getElementById('inp-invest').value = currentData.invest;  
        document.getElementById('inp-food').value = currentData.food;  
        document.getElementById('inp-save').value = currentData.save;  
    }  
  
    function saveSettings() {  
        currentData.income = document.getElementById('inp-income').value;  
        currentData.olive = document.getElementById('inp-olive').value;  
        currentData.rent = document.getElementById('inp-rent').value;  
        currentData.invest = document.getElementById('inp-invest').value;  
        currentData.food = document.getElementById('inp-food').value;  
        currentData.save = document.getElementById('inp-save').value;  
  
        localStorage.setItem('myMoneyData', JSON.stringify(currentData));  
        alert('è¨­å®šã‚’ä¿å­˜ã—ã¾ã—ãŸ');  
        updateUI();  
        switchPage('home');  
    }  
  
    function resetSettings() {  
        if(confirm('åˆæœŸå€¤ã«æˆ»ã—ã¾ã™ã‹ï¼Ÿ')) {  
            currentData = {...defaultData};  
            localStorage.removeItem('myMoneyData');  
            updateUI();  
            updateInputs();  
            alert('ãƒªã‚»ãƒƒãƒˆã—ã¾ã—ãŸ');  
        }  
    }  
  
    function switchPage(pageId) {  
        // Nav active state  
        const navs = document.querySelectorAll('.nav-item');  
        navs.forEach(el => el.classList.remove('active'));  
          
        // Page visibility  
        const pages = document.querySelectorAll('.page');  
        pages.forEach(el => el.classList.remove('active'));  
  
        // Target activation  
        if (pageId === 'home') {  
            document.getElementById('p-home').classList.add('active');  
            navs[0].classList.add('active');  
            document.getElementById('page-title').innerText = 'ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰';  
        } else if (pageId === 'flow') {  
            document.getElementById('p-flow').classList.add('active');  
            navs[1].classList.add('active');  
            document.getElementById('page-title').innerText = 'è³‡é‡‘ãƒ•ãƒ­ãƒ¼';  
        } else if (pageId === 'settings') {  
            document.getElementById('p-settings').classList.add('active');  
            navs[2].classList.add('active');  
            document.getElementById('page-title').innerText = 'è¨­å®š';  
        }  
        window.scrollTo(0,0);  
    }  
  
    // Start  
    init();  
</script>  
</body>  
</html>  
