<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<title>NEXA</title>

<style>
:root{
--bg:#f2f2f7;
--card:rgba(255,255,255,.7);
--blur:blur(20px);
--radius:18px;
--text:#111;
--sub:#666;
--accent:#007aff;
font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto;
}

body{
margin:0;
background:var(--bg);
color:var(--text);
}

header{
position:sticky;top:0;
padding:14px;
text-align:center;
font-weight:600;
backdrop-filter:var(--blur);
background:rgba(255,255,255,.6);
}

main{padding:12px;max-width:600px;margin:auto}

.card{
background:var(--card);
backdrop-filter:var(--blur);
border-radius:var(--radius);
padding:14px;
margin-bottom:12px;
}

label{font-size:14px;color:var(--sub)}

input,select,button{
width:100%;
padding:12px;
margin-top:6px;
border-radius:12px;
border:0;
font-size:16px;
}

input,select{background:#fff}

button{
background:var(--accent);
color:#fff;
font-weight:600;
}

#result{
white-space:pre-line;
font-size:15px;
}

.small{font-size:13px;color:var(--sub)}
</style>
</head>

<body>

<header>NEXA β</header>

<main>

<div class="card">
<label>世帯年収（万円）</label>
<input id="income" type="number" placeholder="例：600">

<label>物件価格（万円）</label>
<input id="price" type="number" placeholder="例：4500">

<label>築年数</label>
<select id="age">
<option value="5">0-10年</option>
<option value="15">10-20年</option>
<option value="25">20-30年</option>
<option value="35">30年以上</option>
</select>

<label>駅徒歩（分）</label>
<select id="walk">
<option>5</option><option>10</option><option>15</option>
</select>

<label>駅重力ランク</label>
<select id="rank">
<option value="1.6">S</option>
<option value="1.3">A</option>
<option value="1.1">B</option>
<option value="0.9">C</option>
<option value="0.7">D</option>
</select>

<button onclick="calc()">世界線を見る</button>
</div>

<div class="card">
<div id="result">評価はまだ実行されていません。</div>
<button onclick="pdf()">PDF出力</button>
<p class="small">
本結果は判断補助情報であり、売買価格や将来価値を保証するものではありません。
</p>
</div>

</main>

<script>
function calc(){
let i=+income.value||0;
let p=+price.value||0;
let a=+age.value;
let w=+walk.value;
let r=+rank.value;

if(!i||!p)return result.innerText="入力不足";

let loanLimit=i*7;
let safety=p<=loanLimit?1:0.7;

let ageBias=1-(a/100);
let walkBias=1-(w/50);

let score=(safety*r*ageBias*walkBias*100).toFixed(1);

let zone="";
if(score>80)zone="安定世界線";
else if(score>60)zone="許容世界線";
else if(score>40)zone="注意世界線";
else zone="破綻世界線";

result.innerText=
`総合安定度: ${score}%
世界線: ${zone}

解釈:
・高いほど無理が少ない
・低いほど将来負担増
・判断は常に利用者が行う`;
}

function pdf(){
let w=window.open("");
w.document.write(`<pre>${result.innerText}

――――――――――
本資料は判断補助目的のみ
価格・価値を保証しません
NEXA β</pre>`);
w.print();
}
</script>

</body>
</html>